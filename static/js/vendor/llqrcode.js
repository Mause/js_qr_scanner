!function(){function e(e,t){this.count=e,this._fc=t,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("_dm",function(){return this._fc})}function t(e,t,n){this._bm=e,this._do=n?new Array(t,n):new Array(t),this.__defineGetter__("_bo",function(){return this._bm}),this.__defineGetter__("_dn",function(){return this._bm*this._fo}),this.__defineGetter__("_fo",function(){for(var e=0,t=0;t<this._do.length;t++)e+=this._do[t].length;return e}),this._fb=function(){return this._do}}function n(e,t,n,r,i,a){this._bs=e,this._ar=t,this._do=new Array(n,r,i,a);for(var h=0,o=n._bo,w=n._fb(),_=0;_<w.length;_++){var f=w[_];h+=f.Count*(f._dm+o)}this._br=h,this.__defineGetter__("_fd",function(){return this._bs}),this.__defineGetter__("_as",function(){return this._ar}),this.__defineGetter__("_dp",function(){return this._br}),this.__defineGetter__("_cr",function(){return 17+4*this._bs}),this._aq=function(){var e=this._cr,t=new s(e);t._bq(0,0,9,9),t._bq(e-8,0,8,9),t._bq(0,e-8,9,8);for(var n=this._ar.length,r=0;n>r;r++)for(var i=this._ar[r]-2,a=0;n>a;a++)0==r&&(0==a||a==n-1)||r==n-1&&0==a||t._bq(this._ar[a]-2,i,5,5);return t._bq(6,9,1,e-17),t._bq(9,6,e-17,1),this._bs>6&&(t._bq(e-11,0,3,6),t._bq(0,e-11,6,3)),t},this._bu=function(e){return this._do[e.ordinal()]}}function r(){return new Array(new n(1,new Array,new t(7,new e(1,19)),new t(10,new e(1,16)),new t(13,new e(1,13)),new t(17,new e(1,9))),new n(2,new Array(6,18),new t(10,new e(1,34)),new t(16,new e(1,28)),new t(22,new e(1,22)),new t(28,new e(1,16))),new n(3,new Array(6,22),new t(15,new e(1,55)),new t(26,new e(1,44)),new t(18,new e(2,17)),new t(22,new e(2,13))),new n(4,new Array(6,26),new t(20,new e(1,80)),new t(18,new e(2,32)),new t(26,new e(2,24)),new t(16,new e(4,9))),new n(5,new Array(6,30),new t(26,new e(1,108)),new t(24,new e(2,43)),new t(18,new e(2,15),new e(2,16)),new t(22,new e(2,11),new e(2,12))),new n(6,new Array(6,34),new t(18,new e(2,68)),new t(16,new e(4,27)),new t(24,new e(4,19)),new t(28,new e(4,15))),new n(7,new Array(6,22,38),new t(20,new e(2,78)),new t(18,new e(4,31)),new t(18,new e(2,14),new e(4,15)),new t(26,new e(4,13),new e(1,14))),new n(8,new Array(6,24,42),new t(24,new e(2,97)),new t(22,new e(2,38),new e(2,39)),new t(22,new e(4,18),new e(2,19)),new t(26,new e(4,14),new e(2,15))),new n(9,new Array(6,26,46),new t(30,new e(2,116)),new t(22,new e(3,36),new e(2,37)),new t(20,new e(4,16),new e(4,17)),new t(24,new e(4,12),new e(4,13))),new n(10,new Array(6,28,50),new t(18,new e(2,68),new e(2,69)),new t(26,new e(4,43),new e(1,44)),new t(24,new e(6,19),new e(2,20)),new t(28,new e(6,15),new e(2,16))),new n(11,new Array(6,30,54),new t(20,new e(4,81)),new t(30,new e(1,50),new e(4,51)),new t(28,new e(4,22),new e(4,23)),new t(24,new e(3,12),new e(8,13))),new n(12,new Array(6,32,58),new t(24,new e(2,92),new e(2,93)),new t(22,new e(6,36),new e(2,37)),new t(26,new e(4,20),new e(6,21)),new t(28,new e(7,14),new e(4,15))),new n(13,new Array(6,34,62),new t(26,new e(4,107)),new t(22,new e(8,37),new e(1,38)),new t(24,new e(8,20),new e(4,21)),new t(22,new e(12,11),new e(4,12))),new n(14,new Array(6,26,46,66),new t(30,new e(3,115),new e(1,116)),new t(24,new e(4,40),new e(5,41)),new t(20,new e(11,16),new e(5,17)),new t(24,new e(11,12),new e(5,13))),new n(15,new Array(6,26,48,70),new t(22,new e(5,87),new e(1,88)),new t(24,new e(5,41),new e(5,42)),new t(30,new e(5,24),new e(7,25)),new t(24,new e(11,12),new e(7,13))),new n(16,new Array(6,26,50,74),new t(24,new e(5,98),new e(1,99)),new t(28,new e(7,45),new e(3,46)),new t(24,new e(15,19),new e(2,20)),new t(30,new e(3,15),new e(13,16))),new n(17,new Array(6,30,54,78),new t(28,new e(1,107),new e(5,108)),new t(28,new e(10,46),new e(1,47)),new t(28,new e(1,22),new e(15,23)),new t(28,new e(2,14),new e(17,15))),new n(18,new Array(6,30,56,82),new t(30,new e(5,120),new e(1,121)),new t(26,new e(9,43),new e(4,44)),new t(28,new e(17,22),new e(1,23)),new t(28,new e(2,14),new e(19,15))),new n(19,new Array(6,30,58,86),new t(28,new e(3,113),new e(4,114)),new t(26,new e(3,44),new e(11,45)),new t(26,new e(17,21),new e(4,22)),new t(26,new e(9,13),new e(16,14))),new n(20,new Array(6,34,62,90),new t(28,new e(3,107),new e(5,108)),new t(26,new e(3,41),new e(13,42)),new t(30,new e(15,24),new e(5,25)),new t(28,new e(15,15),new e(10,16))),new n(21,new Array(6,28,50,72,94),new t(28,new e(4,116),new e(4,117)),new t(26,new e(17,42)),new t(28,new e(17,22),new e(6,23)),new t(30,new e(19,16),new e(6,17))),new n(22,new Array(6,26,50,74,98),new t(28,new e(2,111),new e(7,112)),new t(28,new e(17,46)),new t(30,new e(7,24),new e(16,25)),new t(24,new e(34,13))),new n(23,new Array(6,30,54,74,102),new t(30,new e(4,121),new e(5,122)),new t(28,new e(4,47),new e(14,48)),new t(30,new e(11,24),new e(14,25)),new t(30,new e(16,15),new e(14,16))),new n(24,new Array(6,28,54,80,106),new t(30,new e(6,117),new e(4,118)),new t(28,new e(6,45),new e(14,46)),new t(30,new e(11,24),new e(16,25)),new t(30,new e(30,16),new e(2,17))),new n(25,new Array(6,32,58,84,110),new t(26,new e(8,106),new e(4,107)),new t(28,new e(8,47),new e(13,48)),new t(30,new e(7,24),new e(22,25)),new t(30,new e(22,15),new e(13,16))),new n(26,new Array(6,30,58,86,114),new t(28,new e(10,114),new e(2,115)),new t(28,new e(19,46),new e(4,47)),new t(28,new e(28,22),new e(6,23)),new t(30,new e(33,16),new e(4,17))),new n(27,new Array(6,34,62,90,118),new t(30,new e(8,122),new e(4,123)),new t(28,new e(22,45),new e(3,46)),new t(30,new e(8,23),new e(26,24)),new t(30,new e(12,15),new e(28,16))),new n(28,new Array(6,26,50,74,98,122),new t(30,new e(3,117),new e(10,118)),new t(28,new e(3,45),new e(23,46)),new t(30,new e(4,24),new e(31,25)),new t(30,new e(11,15),new e(31,16))),new n(29,new Array(6,30,54,78,102,126),new t(30,new e(7,116),new e(7,117)),new t(28,new e(21,45),new e(7,46)),new t(30,new e(1,23),new e(37,24)),new t(30,new e(19,15),new e(26,16))),new n(30,new Array(6,26,52,78,104,130),new t(30,new e(5,115),new e(10,116)),new t(28,new e(19,47),new e(10,48)),new t(30,new e(15,24),new e(25,25)),new t(30,new e(23,15),new e(25,16))),new n(31,new Array(6,30,56,82,108,134),new t(30,new e(13,115),new e(3,116)),new t(28,new e(2,46),new e(29,47)),new t(30,new e(42,24),new e(1,25)),new t(30,new e(23,15),new e(28,16))),new n(32,new Array(6,34,60,86,112,138),new t(30,new e(17,115)),new t(28,new e(10,46),new e(23,47)),new t(30,new e(10,24),new e(35,25)),new t(30,new e(19,15),new e(35,16))),new n(33,new Array(6,30,58,86,114,142),new t(30,new e(17,115),new e(1,116)),new t(28,new e(14,46),new e(21,47)),new t(30,new e(29,24),new e(19,25)),new t(30,new e(11,15),new e(46,16))),new n(34,new Array(6,34,62,90,118,146),new t(30,new e(13,115),new e(6,116)),new t(28,new e(14,46),new e(23,47)),new t(30,new e(44,24),new e(7,25)),new t(30,new e(59,16),new e(1,17))),new n(35,new Array(6,30,54,78,102,126,150),new t(30,new e(12,121),new e(7,122)),new t(28,new e(12,47),new e(26,48)),new t(30,new e(39,24),new e(14,25)),new t(30,new e(22,15),new e(41,16))),new n(36,new Array(6,24,50,76,102,128,154),new t(30,new e(6,121),new e(14,122)),new t(28,new e(6,47),new e(34,48)),new t(30,new e(46,24),new e(10,25)),new t(30,new e(2,15),new e(64,16))),new n(37,new Array(6,28,54,80,106,132,158),new t(30,new e(17,122),new e(4,123)),new t(28,new e(29,46),new e(14,47)),new t(30,new e(49,24),new e(10,25)),new t(30,new e(24,15),new e(46,16))),new n(38,new Array(6,32,58,84,110,136,162),new t(30,new e(4,122),new e(18,123)),new t(28,new e(13,46),new e(32,47)),new t(30,new e(48,24),new e(14,25)),new t(30,new e(42,15),new e(32,16))),new n(39,new Array(6,26,54,82,110,138,166),new t(30,new e(20,117),new e(4,118)),new t(28,new e(40,47),new e(7,48)),new t(30,new e(43,24),new e(22,25)),new t(30,new e(10,15),new e(67,16))),new n(40,new Array(6,30,58,86,114,142,170),new t(30,new e(19,118),new e(6,119)),new t(28,new e(18,47),new e(31,48)),new t(30,new e(34,24),new e(34,25)),new t(30,new e(20,15),new e(61,16))))}function i(e,t,n,r,a,h,o,w,s){this.a11=e,this.a12=r,this.a13=o,this.a21=t,this.a22=a,this.a23=w,this.a31=n,this.a32=h,this.a33=s,this._ad=function(e){for(var t=e.length,n=this.a11,r=this.a12,i=this.a13,a=this.a21,h=this.a22,o=this.a23,w=this.a31,s=this.a32,_=this.a33,f=0;t>f;f+=2){var c=e[f],d=e[f+1],u=i*c+o*d+_;e[f]=(n*c+a*d+w)/u,e[f+1]=(r*c+h*d+s)/u}},this._fp=function(e,t){for(var n=e.length,r=0;n>r;r++){var i=e[r],a=t[r],h=this.a13*i+this.a23*a+this.a33;e[r]=(this.a11*i+this.a21*a+this.a31)/h,t[r]=(this.a12*i+this.a22*a+this.a32)/h}},this._fr=function(){return new i(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new i(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function a(e,t){this.bits=e,this.points=t}function h(e){this.image=e,this._am=null,this._bi=function(e,t,n,r){var i=Math.abs(r-t)>Math.abs(n-e);if(i){var a=e;e=t,t=a,a=n,n=r,r=a}for(var h=Math.abs(n-e),o=Math.abs(r-t),w=-h>>1,s=r>t?1:-1,_=n>e?1:-1,f=0,c=e,d=t;c!=n;c+=_){var u=i?d:c,l=i?c:d;if(1==f?this.image[u+l*qrcode.width]&&f++:this.image[u+l*qrcode.width]||f++,3==f){var v=c-e,g=d-t;return Math.sqrt(v*v+g*g)}if(w+=o,w>0){if(d==r)break;d+=s,w-=h}}var y=n-e,b=r-t;return Math.sqrt(y*y+b*b)},this._bh=function(e,t,n,r){var i=this._bi(e,t,n,r),a=1,h=e-(n-e);0>h?(a=e/(e-h),h=0):h>=qrcode.width&&(a=(qrcode.width-1-e)/(h-e),h=qrcode.width-1);var o=Math.floor(t-(r-t)*a);return a=1,0>o?(a=t/(t-o),o=0):o>=qrcode.height&&(a=(qrcode.height-1-t)/(o-t),o=qrcode.height-1),h=Math.floor(e+(h-e)*a),i+=this._bi(e,t,h,o),i-1},this._bj=function(e,t){var n=this._bh(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),r=this._bh(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},this._bk=function(e,t,n){return(this._bj(e,t)+this._bj(e,n))/2},this.distance=function(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this._bx=function(e,t,n,r){var i=Math.round(this.distance(e,t)/r),a=Math.round(this.distance(e,n)/r),h=(i+a>>1)+7;switch(3&h){case 0:h++;break;case 2:h--;break;case 3:throw"Error"}return h},this._bl=function(e,t,n,r){var i=Math.floor(r*e),a=Math.max(0,t-i),h=Math.min(qrcode.width-1,t+i);if(3*e>h-a)throw"Error";var o=Math.max(0,n-i),w=Math.min(qrcode.height-1,n+i),s=new j(this.image,a,o,h-a,w-o,e,this._am);return s.find()},this.createTransform=function(e,t,n,r,a){var h,o,w,s,_=a-3.5;null!=r?(h=r.X,o=r.Y,w=s=_-3):(h=t.X-e.X+n.X,o=t.Y-e.Y+n.Y,w=s=_);var f=i._ag(3.5,3.5,_,3.5,w,s,3.5,_,e.X,e.Y,t.X,t.Y,h,o,n.X,n.Y);return f},this._bz=function(e,t,n){var r=S;return r._af(e,n,t)},this._cd=function(e){var t=e._gq,r=e._gs,i=e._gp,h=this._bk(t,r,i);if(1>h)throw"Error";var o=this._bx(t,r,i,h),w=n._at(o),s=w._cr-7,_=null;if(w._as.length>0)for(var f=r.X-t.X+i.X,c=r.Y-t.Y+i.Y,d=1-3/s,u=Math.floor(t.X+d*(f-t.X)),l=Math.floor(t.Y+d*(c-t.Y)),v=4;16>=v;v<<=1){_=this._bl(h,u,l,v);break}var g,y=this.createTransform(t,r,i,_,o),b=this._bz(this.image,y,o);return g=null==_?new Array(i,t,r):new Array(i,t,r,_),new a(b,g)},this.detect=function(){var e=(new G)._ce(this.image);return this._cd(e)}}function o(e){this._cf=w.forBits(e>>3&3),this._fe=7&e,this.__defineGetter__("_cg",function(){return this._cf}),this.__defineGetter__("_dx",function(){return this._fe}),this.GetHashCode=function(){return this._cf.ordinal()<<3|_fe},this.Equals=function(e){var t=e;return this._cf==t._cf&&this._fe==t._fe}}function w(e,t,n){this._ff=e,this.bits=t,this.name=n,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this._ff}}function s(e,t){if(t||(t=e),1>e||1>t)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var n=e>>5;0!=(31&e)&&n++,this.rowSize=n,this.bits=new Array(n*t);for(var r=0;r<this.bits.length;r++)this.bits[r]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this._ds=function(e,t){var n=t*this.rowSize+(e>>5);return 0!=(1&M(this.bits[n],31&e))},this._dq=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]|=1<<(31&e)},this.flip=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;e>t;t++)this.bits[t]=0},this._bq=function(e,t,n,r){if(0>t||0>e)throw"Left and top must be nonnegative";if(1>r||1>n)throw"Height and width must be at least 1";var i=e+n,a=t+r;if(a>this.height||i>this.width)throw"The region must fit inside the matrix";for(var h=t;a>h;h++)for(var o=h*this.rowSize,w=e;i>w;w++)this.bits[o+(w>>5)]|=1<<(31&w)}}function _(e,t){this._dv=e,this._dw=t,this.__defineGetter__("_du",function(){return this._dv}),this.__defineGetter__("Codewords",function(){return this._dw})}function f(e){var t=e.Dimension;if(21>t||1!=(3&t))throw"Error _cl";this._au=e,this._cp=null,this._co=null,this._dk=function(e,t,n){return this._au._ds(e,t)?n<<1|1:n<<1},this._cm=function(){if(null!=this._co)return this._co;for(var e=0,t=0;6>t;t++)e=this._dk(t,8,e);e=this._dk(7,8,e),e=this._dk(8,8,e),e=this._dk(8,7,e);for(var n=5;n>=0;n--)e=this._dk(8,n,e);if(this._co=o._ci(e),null!=this._co)return this._co;var r=this._au.Dimension;e=0;for(var i=r-8,t=r-1;t>=i;t--)e=this._dk(t,8,e);for(var n=r-7;r>n;n++)e=this._dk(8,n,e);if(this._co=o._ci(e),null!=this._co)return this._co;throw"Error _cm"},this._cq=function(){if(null!=this._cp)return this._cp;var e=this._au.Dimension,t=e-17>>2;if(6>=t)return n._av(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var h=e-9;h>=i;h--)r=this._dk(h,a,r);if(this._cp=n._aw(r),null!=this._cp&&this._cp._cr==e)return this._cp;r=0;for(var h=5;h>=0;h--)for(var a=e-9;a>=i;a--)r=this._dk(h,a,r);if(this._cp=n._aw(r),null!=this._cp&&this._cp._cr==e)return this._cp;throw"Error _cq"},this._gk=function(){var e=this._cm(),t=this._cq(),n=B._gl(e._dx),r=this._au.Dimension;n._dj(this._au,r);for(var i=t._aq(),a=!0,h=new Array(t._dp),o=0,w=0,s=0,_=r-1;_>0;_-=2){6==_&&_--;for(var f=0;r>f;f++)for(var c=a?r-1-f:f,d=0;2>d;d++)i._ds(_-d,c)||(s++,w<<=1,this._au._ds(_-d,c)&&(w|=1),8==s&&(h[o++]=w,s=0,w=0));a^=!0}if(o!=t._dp)throw"Error _gk";return h}}function c(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e,t){return 0==(e+t&1)}}function d(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e){return 0==(1&e)}}function u(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e,t){return t%3==0}}function l(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e,t){return(e+t)%3==0}}function v(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e,t){return 0==(M(e,1)+t/3&1)}}function g(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e,t){var n=e*t;return(1&n)+n%3==0}}function y(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e,t){var n=e*t;return 0==((1&n)+n%3&1)}}function b(){this._dj=function(e,t){for(var n=0;t>n;n++)for(var r=0;t>r;r++)this._fw(n,r)&&e.flip(r,n)},this._fw=function(e,t){return 0==((e+t&1)+e*t%3&1)}}function q(e){this._fa=e,this.decode=function(e,t){for(var n=new m(this._fa,e),r=new Array(t),i=0;i<r.length;i++)r[i]=0;for(var a=!1,h=!0,i=0;t>i;i++){var o=n.evaluateAt(this._fa.exp(a?i+1:i));r[r.length-1-i]=o,0!=o&&(h=!1)}if(!h)for(var w=new m(this._fa,r),s=this._eb(this._fa._ba(t,1),w,t),_=s[0],f=s[1],c=this._ey(_),d=this._di(f,c,a),i=0;i<c.length;i++){var u=e.length-1-this._fa.log(c[i]);if(0>u)throw"ReedSolomonException Bad error location";e[u]=A._bd(e[u],d[i])}},this._eb=function(e,t,n){if(e._ec<t._ec){var r=e;e=t,t=r}for(var i=e,a=t,h=this._fa.One,o=this._fa.Zero,w=this._fa.Zero,s=this._fa.One;a._ec>=Math.floor(n/2);){var _=i,f=h,c=w;if(i=a,h=o,w=s,i.Zero)throw"r_{i-1} was zero";a=_;for(var d=this._fa.Zero,u=i._ex(i._ec),l=this._fa.inverse(u);a._ec>=i._ec&&!a.Zero;){var v=a._ec-i._ec,g=this._fa.multiply(a._ex(a._ec),l);d=d._bd(this._fa._ba(v,g)),a=a._bd(i._dc(v,g))}o=d.multiply1(h)._bd(f),s=d.multiply1(w)._bd(c)}var y=s._ex(0);if(0==y)throw"ReedSolomonException sigmaTilde(0) was zero";var b=this._fa.inverse(y),q=s.multiply2(b),m=a.multiply2(b);return new Array(q,m)},this._ey=function(e){var t=e._ec;if(1==t)return new Array(e._ex(1));for(var n=new Array(t),r=0,i=1;256>i&&t>r;i++)0==e.evaluateAt(i)&&(n[r]=this._fa.inverse(i),r++);if(r!=t)throw"Error locator degree does not match number of roots";return n},this._di=function(e,t,n){for(var r=t.length,i=new Array(r),a=0;r>a;a++){for(var h=this._fa.inverse(t[a]),o=1,w=0;r>w;w++)a!=w&&(o=this._fa.multiply(o,A._bd(1,this._fa.multiply(t[w],h))));i[a]=this._fa.multiply(e.evaluateAt(h),this._fa.inverse(o)),n&&(i[a]=this._fa.multiply(i[a],h))}return i}}function m(e,t){if(null==t||0==t.length)throw"bad arguments";this._fa=e;var n=t.length;if(n>1&&0==t[0]){for(var r=1;n>r&&0==t[r];)r++;if(r==n)this._dd=e.Zero._dd;else{this._dd=new Array(n-r);for(var i=0;i<this._dd.length;i++)this._dd[i]=0;for(var a=0;a<this._dd.length;a++)this._dd[a]=t[r+a]}}else this._dd=t;this.__defineGetter__("Zero",function(){return 0==this._dd[0]}),this.__defineGetter__("_ec",function(){return this._dd.length-1}),this.__defineGetter__("Coefficients",function(){return this._dd}),this._ex=function(e){return this._dd[this._dd.length-1-e]},this.evaluateAt=function(e){if(0==e)return this._ex(0);var t=this._dd.length;if(1==e){for(var n=0,r=0;t>r;r++)n=A._bd(n,this._dd[r]);return n}for(var i=this._dd[0],r=1;t>r;r++)i=A._bd(this._fa.multiply(e,i),this._dd[r]);return i},this._bd=function(t){if(this._fa!=t._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero)return t;if(t.Zero)return this;var n=this._dd,r=t._dd;if(n.length>r.length){var i=n;n=r,r=i}for(var a=new Array(r.length),h=r.length-n.length,o=0;h>o;o++)a[o]=r[o];for(var w=h;w<r.length;w++)a[w]=A._bd(n[w-h],r[w]);return new m(e,a)},this.multiply1=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero||e.Zero)return this._fa.Zero;for(var t=this._dd,n=t.length,r=e._dd,i=r.length,a=new Array(n+i-1),h=0;n>h;h++)for(var o=t[h],w=0;i>w;w++)a[h+w]=A._bd(a[h+w],this._fa.multiply(o,r[w]));return new m(this._fa,a)},this.multiply2=function(e){if(0==e)return this._fa.Zero;if(1==e)return this;for(var t=this._dd.length,n=new Array(t),r=0;t>r;r++)n[r]=this._fa.multiply(this._dd[r],e);return new m(this._fa,n)},this._dc=function(e,t){if(0>e)throw"bad arguments";if(0==t)return this._fa.Zero;for(var n=this._dd.length,r=new Array(n+e),i=0;i<r.length;i++)r[i]=0;for(var i=0;n>i;i++)r[i]=this._fa.multiply(this._dd[i],t);return new m(this._fa,r)},this.divide=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(e.Zero)throw"Divide by 0";for(var t=this._fa.Zero,n=this,r=e._ex(e._ec),i=this._fa.inverse(r);n._ec>=e._ec&&!n.Zero;){var a=n._ec-e._ec,h=this._fa.multiply(n._ex(n._ec),i),o=e._dc(a,h),w=this._fa._ba(a,h);t=t._bd(w),n=n._bd(o)}return new Array(t,n)}}function A(e){this._gh=new Array(256),this._gi=new Array(256);for(var t=1,n=0;256>n;n++)this._gh[n]=t,t<<=1,t>=256&&(t^=e);for(var n=0;255>n;n++)this._gi[this._gh[n]]=n;var r=new Array(1);r[0]=0,this.zero=new m(this,new Array(r));var i=new Array(1);i[0]=1,this.one=new m(this,new Array(i)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this._ba=function(e,t){if(0>e)throw"bad arguments";if(0==t)return zero;for(var n=new Array(e+1),r=0;r<n.length;r++)n[r]=0;return n[0]=t,new m(this,n)},this.exp=function(e){return this._gh[e]},this.log=function(e){if(0==e)throw"bad arguments";return this._gi[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this._gh[255-this._gi[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this._gh[(this._gi[e]+this._gi[t])%255]}}function M(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}function x(e,t,n){this.x=e,this.y=t,this.count=1,this._aj=n,this.__defineGetter__("_ei",function(){return this._aj}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this._ek=function(){this.count++},this._ev=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var r=Math.abs(e-this._aj);return 1>=r||r/this._aj<=1}return!1}}function k(e){this._go=e[0],this._gu=e[1],this._gr=e[2],this.__defineGetter__("_gp",function(){return this._go}),this.__defineGetter__("_gq",function(){return this._gu}),this.__defineGetter__("_gs",function(){return this._gr})}function G(){this.image=null,this._cv=[],this._ge=!1,this._al=new Array(0,0,0,0,0),this._am=null,this.__defineGetter__("_da",function(){return this._al[0]=0,this._al[1]=0,this._al[2]=0,this._al[3]=0,this._al[4]=0,this._al}),this._ao=function(e){for(var t=0,n=0;5>n;n++){var r=e[n];if(0==r)return!1;t+=r}if(7>t)return!1;var i=Math.floor((t<<P)/7),a=Math.floor(i/2);return Math.abs(i-(e[0]<<P))<a&&Math.abs(i-(e[1]<<P))<a&&Math.abs(3*i-(e[2]<<P))<3*a&&Math.abs(i-(e[3]<<P))<a&&Math.abs(i-(e[4]<<P))<a},this._an=function(e,t){return t-e[4]-e[3]-e[2]/2},this._ap=function(e,t,n,r){for(var i=this.image,a=qrcode.height,h=this._da,o=e;o>=0&&i[t+o*qrcode.width];)h[2]++,o--;if(0>o)return 0/0;for(;o>=0&&!i[t+o*qrcode.width]&&h[1]<=n;)h[1]++,o--;if(0>o||h[1]>n)return 0/0;for(;o>=0&&i[t+o*qrcode.width]&&h[0]<=n;)h[0]++,o--;if(h[0]>n)return 0/0;for(o=e+1;a>o&&i[t+o*qrcode.width];)h[2]++,o++;if(o==a)return 0/0;for(;a>o&&!i[t+o*qrcode.width]&&h[3]<n;)h[3]++,o++;if(o==a||h[3]>=n)return 0/0;for(;a>o&&i[t+o*qrcode.width]&&h[4]<n;)h[4]++,o++;if(h[4]>=n)return 0/0;var w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-r)>=2*r?0/0:this._ao(h)?this._an(h,o):0/0},this._ej=function(e,t,n,r){for(var i=this.image,a=qrcode.width,h=this._da,o=e;o>=0&&i[o+t*qrcode.width];)h[2]++,o--;if(0>o)return 0/0;for(;o>=0&&!i[o+t*qrcode.width]&&h[1]<=n;)h[1]++,o--;if(0>o||h[1]>n)return 0/0;for(;o>=0&&i[o+t*qrcode.width]&&h[0]<=n;)h[0]++,o--;if(h[0]>n)return 0/0;for(o=e+1;a>o&&i[o+t*qrcode.width];)h[2]++,o++;if(o==a)return 0/0;for(;a>o&&!i[o+t*qrcode.width]&&h[3]<n;)h[3]++,o++;if(o==a||h[3]>=n)return 0/0;for(;a>o&&i[o+t*qrcode.width]&&h[4]<n;)h[4]++,o++;if(h[4]>=n)return 0/0;var w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-r)>=r?0/0:this._ao(h)?this._an(h,o):0/0},this._cu=function(e,t,n){var r=e[0]+e[1]+e[2]+e[3]+e[4],i=this._an(e,n),a=this._ap(t,Math.floor(i),e[2],r);if(!isNaN(a)&&(i=this._ej(Math.floor(i),Math.floor(a),e[2],r),!isNaN(i))){for(var h=r/7,o=!1,w=this._cv.length,s=0;w>s;s++){var _=this._cv[s];if(_._ev(h,a,i)){_._ek(),o=!0;break}}if(!o){var f=new x(i,a,h);this._cv.push(f),null!=this._am&&this._am._ep(f)}return!0}return!1},this._ee=function(){var e=this._cv.length;if(3>e)throw"Couldn't find enough finder patterns";if(e>3){for(var t=0,n=0,r=0;e>r;r++){var i=this._cv[r]._ei;t+=i,n+=i*i}var a=t/e;this._cv.sort(function(e,t){var n=Math.abs(t._ei-a),r=Math.abs(e._ei-a);return r>n?-1:n==r?0:1});for(var h=Math.sqrt(n/e-a*a),o=Math.max(.2*a,h),r=0;r<this._cv.length&&this._cv.length>3;r++){var w=this._cv[r];Math.abs(w._ei-a)>o&&(this._cv.remove(r),r--)}}return this._cv.length>3&&this._cv.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),new Array(this._cv[0],this._cv[1],this._cv[2])},this._eq=function(){var e=this._cv.length;if(1>=e)return 0;for(var t=null,n=0;e>n;n++){var r=this._cv[n];if(r.Count>=O){if(null!=t)return this._ge=!0,Math.floor((Math.abs(t.X-r.X)-Math.abs(t.Y-r.Y))/2);t=r}}return 0},this._cx=function(){for(var e=0,t=0,n=this._cv.length,r=0;n>r;r++){var i=this._cv[r];i.Count>=O&&(e++,t+=i._ei)}if(3>e)return!1;for(var a=t/n,h=0,r=0;n>r;r++)i=this._cv[r],h+=Math.abs(i._ei-a);return.05*t>=h},this._ce=function(e){var t=!1;this.image=e;var n=qrcode.height,r=qrcode.width,i=Math.floor(3*n/(4*F));(T>i||t)&&(i=T);for(var a=!1,h=new Array(5),o=i-1;n>o&&!a;o+=i){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var w=0,s=0;r>s;s++)if(e[s+o*qrcode.width])1==(1&w)&&w++,h[w]++;else if(0==(1&w))if(4==w)if(this._ao(h)){var _=this._cu(h,o,s);if(_)if(i=2,this._ge)a=this._cx();else{var f=this._eq();f>h[2]&&(o+=f-h[2]-i,s=r-1)}else{do s++;while(r>s&&!e[s+o*qrcode.width]);s--}w=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,w=3;else h[++w]++;else h[w]++;if(this._ao(h)){var _=this._cu(h,o,r);_&&(i=h[0],this._ge&&(a=_cx()))}}var c=this._ee();return qrcode._er(c),new k(c)}}function D(e,t,n){this.x=e,this.y=t,this.count=1,this._aj=n,this.__defineGetter__("_ei",function(){return this._aj}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this._ek=function(){this.count++},this._ev=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var r=Math.abs(e-this._aj);return 1>=r||r/this._aj<=1}return!1}}function j(e,t,n,r,i,a,h){this.image=e,this._cv=new Array,this.startX=t,this.startY=n,this.width=r,this.height=i,this._ef=a,this._al=new Array(0,0,0),this._am=h,this._an=function(e,t){return t-e[2]-e[1]/2},this._ao=function(e){for(var t=this._ef,n=t/2,r=0;3>r;r++)if(Math.abs(t-e[r])>=n)return!1;return!0},this._ap=function(e,t,n,r){var i=this.image,a=qrcode.height,h=this._al;h[0]=0,h[1]=0,h[2]=0;for(var o=e;o>=0&&i[t+o*qrcode.width]&&h[1]<=n;)h[1]++,o--;if(0>o||h[1]>n)return 0/0;for(;o>=0&&!i[t+o*qrcode.width]&&h[0]<=n;)h[0]++,o--;if(h[0]>n)return 0/0;for(o=e+1;a>o&&i[t+o*qrcode.width]&&h[1]<=n;)h[1]++,o++;if(o==a||h[1]>n)return 0/0;for(;a>o&&!i[t+o*qrcode.width]&&h[2]<=n;)h[2]++,o++;if(h[2]>n)return 0/0;var w=h[0]+h[1]+h[2];return 5*Math.abs(w-r)>=2*r?0/0:this._ao(h)?this._an(h,o):0/0},this._cu=function(e,t,n){var r=e[0]+e[1]+e[2],i=this._an(e,n),a=this._ap(t,Math.floor(i),2*e[1],r);if(!isNaN(a)){for(var h=(e[0]+e[1]+e[2])/3,o=this._cv.length,w=0;o>w;w++){var s=this._cv[w];if(s._ev(h,a,i))return new D(i,a,h)}var _=new D(i,a,h);this._cv.push(_),null!=this._am&&this._am._ep(_)}return null},this.find=function(){for(var t=this.startX,i=this.height,a=t+r,h=n+(i>>1),o=new Array(0,0,0),w=0;i>w;w++){var s=h+(0==(1&w)?w+1>>1:-(w+1>>1));o[0]=0,o[1]=0,o[2]=0;for(var _=t;a>_&&!e[_+qrcode.width*s];)_++;for(var f=0;a>_;){if(e[_+s*qrcode.width])if(1==f)o[f]++;else if(2==f){if(this._ao(o)){var c=this._cu(o,s,_);if(null!=c)return c}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else 1==f&&f++,o[f]++;_++}if(this._ao(o)){var c=this._cu(o,s,a);if(null!=c)return c}}if(0!=this._cv.length)return this._cv[0];throw"Couldn't find enough alignment patterns"}}function C(e,t,n){this._ed=0,this._cw=7,this.dataLength=0,this.blocks=e,this._en=n,9>=t?this.dataLengthMode=0:t>=10&&26>=t?this.dataLengthMode=1:t>=27&&40>=t&&(this.dataLengthMode=2),this._gd=function(e){var t=0;if(e<this._cw+1){for(var n=0,r=0;e>r;r++)n+=1<<r;return n<<=this._cw-e+1,t=(this.blocks[this._ed]&n)>>this._cw-e+1,this._cw-=e,t}if(e<this._cw+1+8){for(var i=0,r=0;r<this._cw+1;r++)i+=1<<r;return t=(this.blocks[this._ed]&i)<<e-(this._cw+1),this._ed++,t+=this.blocks[this._ed]>>8-(e-(this._cw+1)),this._cw=this._cw-e%8,this._cw<0&&(this._cw=8+this._cw),t}if(e<this._cw+1+16){for(var i=0,a=0,r=0;r<this._cw+1;r++)i+=1<<r;var h=(this.blocks[this._ed]&i)<<e-(this._cw+1);this._ed++;var o=this.blocks[this._ed]<<e-(this._cw+1+8);this._ed++;for(var r=0;r<e-(this._cw+1+8);r++)a+=1<<r;a<<=8-(e-(this._cw+1+8));var w=(this.blocks[this._ed]&a)>>8-(e-(this._cw+1+8));return t=h+o+w,this._cw=this._cw-(e-8)%8,this._cw<0&&(this._cw=8+this._cw),t}return 0},this.NextMode=function(){return this._ed>this.blocks.length-this._en-2?0:this._gd(4)},this.getDataLength=function(e){for(var t=0;;){if(e>>t==1)break;t++}return this._gd(qrcode._eo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,n=0,r="",i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do if(t>1){n=this._gd(11);var a=Math.floor(n/45),h=n%45;r+=i[a],r+=i[h],t-=2}else 1==t&&(n=this._gd(6),r+=i[n],t-=1);while(t>0);return r},this.getFigureString=function(e){var t=e,n=0,r="";do t>=3?(n=this._gd(10),100>n&&(r+="0"),10>n&&(r+="0"),t-=3):2==t?(n=this._gd(7),10>n&&(r+="0"),t-=2):1==t&&(n=this._gd(4),t-=1),r+=n;while(t>0);return r},this.get8bitByteArray=function(e){var t=e,n=0,r=new Array;do n=this._gd(8),r.push(n),t--;while(t>0);return r},this.getKanjiString=function(e){var t=e,n=0,r="";do{n=_gd(13);var i=n%192,a=n/192,h=(a<<8)+i,o=0;o=40956>=h+33088?h+33088:h+49472,r+=String.fromCharCode(o),t--}while(t>0);return r},this.__defineGetter__("DataByte",function(){for(var e=new Array,t=1,n=2,r=4,i=8;;){var a=this.NextMode();if(0==a){if(e.length>0)break;throw"Empty data block"}if(a!=t&&a!=n&&a!=r&&a!=i)throw"Invalid mode: "+a+" in (block:"+this._ed+" bit:"+this._cw+")";if(dataLength=this.getDataLength(a),dataLength<1)throw"Invalid data length: "+dataLength;switch(a){case t:for(var h=this.getFigureString(dataLength),o=new Array(h.length),w=0;w<h.length;w++)o[w]=h.charCodeAt(w);e.push(o);break;case n:for(var h=this.getRomanAndFigureString(dataLength),o=new Array(h.length),w=0;w<h.length;w++)o[w]=h.charCodeAt(w);e.push(o);break;case r:var s=this.get8bitByteArray(dataLength);e.push(s);break;case i:var h=this.getKanjiString(dataLength);e.push(h)}}return e})}var S={};S._ab=function(e,t){for(var n=qrcode.width,r=qrcode.height,i=!0,a=0;a<t.length&&i;a+=2){var h=Math.floor(t[a]),o=Math.floor(t[a+1]);if(-1>h||h>n||-1>o||o>r)throw"Error._ab ";i=!1,-1==h?(t[a]=0,i=!0):h==n&&(t[a]=n-1,i=!0),-1==o?(t[a+1]=0,i=!0):o==r&&(t[a+1]=r-1,i=!0)}i=!0;for(var a=t.length-2;a>=0&&i;a-=2){var h=Math.floor(t[a]),o=Math.floor(t[a+1]);if(-1>h||h>n||-1>o||o>r)throw"Error._ab ";i=!1,-1==h?(t[a]=0,i=!0):h==n&&(t[a]=n-1,i=!0),-1==o?(t[a+1]=0,i=!0):o==r&&(t[a+1]=r-1,i=!0)}},S._af=function(e,t,n){for(var r=new s(t),i=new Array(t<<1),a=0;t>a;a++){for(var h=i.length,o=a+.5,w=0;h>w;w+=2)i[w]=(w>>1)+.5,i[w+1]=o;n._ad(i),S._ab(e,i);try{for(var w=0;h>w;w+=2){var _=4*Math.floor(i[w])+Math.floor(i[w+1])*qrcode.width*4,f=e[Math.floor(i[w])+qrcode.width*Math.floor(i[w+1])];qrcode.imagedata.data[_]=f?255:0,qrcode.imagedata.data[_+1]=f?255:0,qrcode.imagedata.data[_+2]=0,qrcode.imagedata.data[_+3]=255,f&&r._dq(w>>1,a)}}catch(c){throw"Error._ab"}}return r},S._ah=function(e,t,n,r,a,h,o,w,s,_,f,c,d,u,l,v,g,y){var b=i._ag(n,r,a,h,o,w,s,_,f,c,d,u,l,v,g,y);return S._af(e,t,b)},n._bv=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),n.VERSIONS=r(),n._av=function(e){if(1>e||e>40)throw"bad arguments";return n.VERSIONS[e-1]},n._at=function(e){if(e%4!=1)throw"Error _at";try{return n._av(e-17>>2)}catch(t){throw"Error _av"}},n._aw=function(e){for(var t=4294967295,r=0,i=0;i<n._bv.length;i++){var a=n._bv[i];if(a==e)return this._av(i+7);var h=o._gj(e,a);t>h&&(r=i+7,t=h)}return 3>=t?this._av(r):null},i._ag=function(e,t,n,r,i,a,h,o,w,s,_,f,c,d,u,l){var v=this._be(e,t,n,r,i,a,h,o),g=this._bf(w,s,_,f,c,d,u,l);
return g.times(v)},i._bf=function(e,t,n,r,a,h,o,w){return dy2=w-h,dy3=t-r+h-w,0==dy2&&0==dy3?new i(n-e,a-n,e,r-t,h-r,t,0,0,1):(dx1=n-a,dx2=o-a,dx3=e-n+a-o,dy1=r-h,_dr=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/_dr,a23=(dx1*dy3-dx3*dy1)/_dr,new i(n-e+a13*n,o-e+a23*o,e,r-t+a13*r,w-t+a23*w,t,a13,a23,1))},i._be=function(e,t,n,r,i,a,h,o){return this._bf(e,t,n,r,i,a,h,o)._fr()};var X=21522,E=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),Y=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);o._gj=function(e,t){return e^=t,Y[15&e]+Y[15&M(e,4)]+Y[15&M(e,8)]+Y[15&M(e,12)]+Y[15&M(e,16)]+Y[15&M(e,20)]+Y[15&M(e,24)]+Y[15&M(e,28)]},o._ci=function(e){var t=o._cj(e);return null!=t?t:o._cj(e^X)},o._cj=function(e){for(var t=4294967295,n=0,r=0;r<E.length;r++){var i=E[r],a=i[0];if(a==e)return new o(i[1]);var h=this._gj(e,a);t>h&&(n=i[1],t=h)}return 3>=t?new o(n):null},w.forBits=function(e){if(0>e||e>=N.length)throw"bad arguments";return N[e]};var z=new w(0,1,"L"),Z=new w(1,0,"M"),I=new w(2,3,"Q"),L=new w(3,2,"H"),N=new Array(Z,z,L,I);_._gn=function(e,t,n){if(e.length!=t._dp)throw"bad arguments";for(var r=t._bu(n),i=0,a=r._fb(),h=0;h<a.length;h++)i+=a[h].Count;for(var o=new Array(i),w=0,s=0;s<a.length;s++)for(var f=a[s],h=0;h<f.Count;h++){var c=f._dm,d=r._bo+c;o[w++]=new _(c,new Array(d))}for(var u=o[0]._dw.length,l=o.length-1;l>=0;){var v=o[l]._dw.length;if(v==u)break;l--}l++;for(var g=u-r._bo,y=0,h=0;g>h;h++)for(var s=0;w>s;s++)o[s]._dw[h]=e[y++];for(var s=l;w>s;s++)o[s]._dw[g]=e[y++];for(var b=o[0]._dw.length,h=g;b>h;h++)for(var s=0;w>s;s++){var q=l>s?h:h+1;o[s]._dw[q]=e[y++]}return o};var B={};B._gl=function(e){if(0>e||e>7)throw"bad arguments";return B._dy[e]},B._dy=new Array(new c,new d,new u,new l,new v,new g,new y,new b),A._bb=new A(285),A._bc=new A(301),A._bd=function(e,t){return e^t};var R={};R.rsDecoder=new q(A._bb),R.correctErrors=function(e,t){for(var n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=255&e[i];var a=e.length-t;try{R.rsDecoder.decode(r,a)}catch(h){throw h}for(var i=0;t>i;i++)e[i]=r[i]},R.decode=function(e){for(var t=new f(e),n=t._cq(),r=t._cm()._cg,i=t._gk(),a=_._gn(i,n,r),h=0,o=0;o<a.length;o++)h+=a[o]._du;for(var w=new Array(h),s=0,c=0;c<a.length;c++){var d=a[c],u=d.Codewords,l=d._du;R.correctErrors(u,l);for(var o=0;l>o;o++)w[s++]=u[o]}var v=new C(w,n._fd,r.Bits);return v},qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode._eo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.decode=function(e){if(0==arguments.length){var t=document.getElementById("qr-canvas"),n=t.getContext("2d");return qrcode.width=t.width,qrcode.height=t.height,qrcode.imagedata=n.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(n),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var r=new Image;r.onload=function(){var e=document.getElementById("out-canvas");if(null!=e){var t=e.getContext("2d");t.clearRect(0,0,320,240),t.drawImage(r,0,0,320,240)}var n=document.createElement("canvas"),i=n.getContext("2d"),a=r.height,h=r.width;if(r.width*r.height>qrcode.maxImgSize){var o=r.width/r.height;a=Math.sqrt(qrcode.maxImgSize/o),h=o*a}n.width=h,n.height=a,i.drawImage(r,0,0,n.width,n.height),qrcode.width=n.width,qrcode.height=n.height;try{qrcode.imagedata=i.getImageData(0,0,n.width,n.height)}catch(w){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(i)}catch(w){console.log(w),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},r.src=e},qrcode.isUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)},qrcode.decode_url=function(e){var t="";try{t=escape(e)}catch(n){console.log(n),t=e}var r="";try{r=decodeURIComponent(t)}catch(n){console.log(n),r=t}return r},qrcode.decode_utf8=function(e){return qrcode.isUrl(e)?qrcode.decode_url(e):e},qrcode.process=function(e){var t=(new Date).getTime(),n=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var r=0;r<qrcode.height;r++)for(var i=0;i<qrcode.width;i++){var a=4*i+r*qrcode.width*4;qrcode.imagedata.data[a]=(n[i+r*qrcode.width],0),qrcode.imagedata.data[a+1]=(n[i+r*qrcode.width],0),qrcode.imagedata.data[a+2]=n[i+r*qrcode.width]?255:0}e.putImageData(qrcode.imagedata,0,0)}var o=new h(n),w=o.detect();qrcode.debug&&e.putImageData(qrcode.imagedata,0,0);for(var s=R.decode(w.bits),_=s.DataByte,f="",c=0;c<_.length;c++)for(var d=0;d<_[c].length;d++)f+=String.fromCharCode(_[c][d]);var u=(new Date).getTime(),l=u-t;return console.log(l),qrcode.decode_utf8(f)},qrcode.getPixel=function(e,t){if(qrcode.width<e)throw"point error";if(qrcode.height<t)throw"point error";return point=4*e+t*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100,p},qrcode.binarize=function(e){for(var t=new Array(qrcode.width*qrcode.height),n=0;n<qrcode.height;n++)for(var r=0;r<qrcode.width;r++){var i=qrcode.getPixel(r,n);t[r+n*qrcode.width]=e>=i?!0:!1}return t},qrcode._em=function(e){for(var t=4,n=Math.floor(qrcode.width/t),r=Math.floor(qrcode.height/t),i=new Array(t),a=0;t>a;a++){i[a]=new Array(t);for(var h=0;t>h;h++)i[a][h]=new Array(0,0)}for(var o=0;t>o;o++)for(var w=0;t>w;w++){i[w][o][0]=255;for(var s=0;r>s;s++)for(var _=0;n>_;_++){var f=e[n*w+_+(r*o+s)*qrcode.width];f<i[w][o][0]&&(i[w][o][0]=f),f>i[w][o][1]&&(i[w][o][1]=f)}}for(var c=new Array(t),d=0;t>d;d++)c[d]=new Array(t);for(var o=0;t>o;o++)for(var w=0;t>w;w++)c[w][o]=Math.floor((i[w][o][0]+i[w][o][1])/2);return c},qrcode.grayScaleToBitmap=function(e){for(var t=qrcode._em(e),n=t.length,r=Math.floor(qrcode.width/n),i=Math.floor(qrcode.height/n),a=new Array(qrcode.height*qrcode.width),h=0;n>h;h++)for(var o=0;n>o;o++)for(var w=0;i>w;w++)for(var s=0;r>s;s++)a[r*o+s+(i*h+w)*qrcode.width]=e[r*o+s+(i*h+w)*qrcode.width]<t[o][h]?!0:!1;return a},qrcode.grayscale=function(){for(var e=new Array(qrcode.width*qrcode.height),t=0;t<qrcode.height;t++)for(var n=0;n<qrcode.width;n++){var r=qrcode.getPixel(n,t);e[n+t*qrcode.width]=r}return e},Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,n)};var T=3,F=57,P=8,O=2;qrcode._er=function(e){function t(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}function n(e,t,n){var r=t.x,i=t.y;return(n.x-r)*(e.y-i)-(n.y-i)*(e.x-r)}var r,i,a,h=t(e[0],e[1]),o=t(e[1],e[2]),w=t(e[0],e[2]);if(o>=h&&o>=w?(i=e[0],r=e[1],a=e[2]):w>=o&&w>=h?(i=e[1],r=e[0],a=e[2]):(i=e[2],r=e[0],a=e[1]),n(r,i,a)<0){var s=r;r=a,a=s}e[0]=r,e[1]=i,e[2]=a}}();
